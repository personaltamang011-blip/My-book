<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Responsive Book Reader</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: "Segoe UI", sans-serif; background: #fafafa; color: #222; line-height: 1.6; transition: background 0.3s, color 0.3s; }

  header {
    background: white;
    border-bottom: 1px solid #ddd;
    padding: 1rem;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-left, .header-right { display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
  .header-left .title { font-weight: bold; font-size: 1.2rem; }
  .header-left button { padding: 0.4rem 0.7rem; font-size: 0.9rem; }

  select {
    padding: 0.4rem;
    font-size: 1rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    outline: none;
    cursor: pointer;
    transition: background 0.3s, color 0.3s, border 0.3s;
  }

  button {
    background: #0078ff;
    color: white;
    border: none;
    padding: 0.5rem 0.9rem;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover { background: #005fcc; }

  .reader-container {
    padding: 1.5rem;
    max-width: 800px;
    margin: 1rem auto;
    background: white;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.05);
    transition: background 0.3s, color 0.3s;
    position: relative;
  }

  .chapter-title { color: #0078ff; font-weight: 600; font-size: 1.3rem; margin-bottom: 1rem; }
  .verse-number { font-weight: bold; color: #555; }
  .verse p { padding: 0.3rem; border-radius: 5px; }
  .verse p.highlight { background: #d0e7ff; }

  /* Floating Prev/Next buttons inside reader */
  .reader-nav { position: relative; margin-top: 1rem; }
  .reader-nav button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    padding: 0.5rem 1rem;
  }
  .reader-nav button:first-child { left: 0; }   /* Prev button on left edge */
  .reader-nav button:last-child { right: 0; }   /* Next button on right edge */

  @media (max-width: 600px) {
    header { flex-direction: column; align-items: flex-start; }
    .header-right { margin-top: 0.5rem; }
    .reader-nav button { position: static; transform: none; width: 48%; margin: 0.3rem 0; }
  }

  /* Dark Mode */
  body.dark-mode {
    background: #121212;
    color: #eee;
  }
  body.dark-mode header { background: #1e1e1e; border-bottom: 1px solid #333; }
  body.dark-mode .reader-container { background: #1e1e1e; box-shadow: 0 0 10px rgba(255,255,255,0.05); }
  body.dark-mode select { background: #333; color: #eee; border: 1px solid #555; }
  body.dark-mode button { background: #555; color: #eee; }
  body.dark-mode button:hover { background: #777; }
</style>
</head>
<body>

<header>
  <div class="header-left">
    <div class="title">Mani Book</div>
    <button id="darkModeBtn">üåô Dark Mode</button>
  </div>

  <div class="header-right">
    <label>Chapter:</label>
    <select id="chapterSelect"></select>

    <label>Verse:</label>
    <select id="verseSelect"></select>
  </div>
</header>

<div class="reader-container">
  <h2 class="chapter-title" id="chapter-title"></h2>
  <div id="chapter-content" class="verse"></div>

  <!-- Floating Prev/Next buttons -->
  <div class="reader-nav">
    <button onclick="prevVerse()">‚¨ÖÔ∏è</button>
    <button onclick="nextVerse()">‚û°Ô∏è</button>
  </div>
</div>

<script>
const book = [
  { title: "Genesis", verses: [
    "In the beginning, God created the heavens and the earth.",
    "Now the earth was formless and empty, darkness was over the surface of the deep...",
    "And God said, 'Let there be light,' and there was light.",
    "God saw that the light was good, and separated light from darkness.",
    "God called the light 'day,' and the darkness 'night.' And there was evening and morning‚Äîthe first day."
  ]},
  { title: "Exodus", verses: [
    "These are the names of the sons of Israel who went to Egypt with Jacob, each with his family:",
    "Reuben, Simeon, Levi and Judah;",
    "Issachar, Zebulun and Benjamin;",
    "Dan and Naphtali; Gad and Asher."
  ]}
];

let currentChapter = 0;
let currentVerse = 0;

const chapterSelect = document.getElementById("chapterSelect");
const verseSelect = document.getElementById("verseSelect");
const chapterTitleEl = document.getElementById("chapter-title");
const chapterContentEl = document.getElementById("chapter-content");
const darkModeBtn = document.getElementById("darkModeBtn");

// Populate dropdowns
function populateChapters() {
  chapterSelect.innerHTML = "";
  book.forEach((ch, idx) => {
    const option = document.createElement("option");
    option.value = idx;
    option.textContent = ch.title;
    chapterSelect.appendChild(option);
  });
}

function populateVerses() {
  verseSelect.innerHTML = "";
  book[currentChapter].verses.forEach((_, idx) => {
    const option = document.createElement("option");
    option.value = idx;
    option.textContent = idx + 1;
    verseSelect.appendChild(option);
  });
}

// Show full chapter
function showChapter() {
  const chapter = book[currentChapter];
  chapterTitleEl.textContent = chapter.title;
  chapterContentEl.innerHTML = chapter.verses.map((v, i) => 
    `<p class="${i === currentVerse ? 'highlight' : ''}"><span class="verse-number">${i+1}</span>. ${v}</p>`).join('');
  chapterSelect.value = currentChapter;
  verseSelect.value = currentVerse;
}

// Highlight & scroll current verse
function highlightVerse() {
  const verseElements = chapterContentEl.querySelectorAll("p");
  verseElements.forEach((p, i) => p.classList.toggle("highlight", i === currentVerse));
  verseElements[currentVerse].scrollIntoView({ behavior: "smooth", block: "center" });
}

// Event handlers
function onChapterChange() {
  currentChapter = parseInt(chapterSelect.value);
  currentVerse = 0;
  populateVerses();
  showChapter();
  highlightVerse();
}

function onVerseChange() {
  currentVerse = parseInt(verseSelect.value);
  highlightVerse();
}

function nextVerse() {
  if (currentVerse < book[currentChapter].verses.length - 1) {
    currentVerse++;
  } else if (currentChapter < book.length - 1) {
    currentChapter++;
    currentVerse = 0;
    populateVerses();
  }
  showChapter();
  highlightVerse();
}

function prevVerse() {
  if (currentVerse > 0) {
    currentVerse--;
  } else if (currentChapter > 0) {
    currentChapter--;
    populateVerses();
    currentVerse = book[currentChapter].verses.length - 1;
  }
  showChapter();
  highlightVerse();
}

// Keyboard navigation
document.addEventListener("keydown", (e) => {
  if(e.key === "ArrowRight") nextVerse();
  if(e.key === "ArrowLeft") prevVerse();
});

// Dark mode toggle
darkModeBtn.addEventListener("click", () => {
  document.body.classList.toggle("dark-mode");
  darkModeBtn.textContent = document.body.classList.contains("dark-mode") ? "‚òÄÔ∏è Light Mode" : "üåô Dark Mode";
});

// Initialize
populateChapters();
populateVerses();
showChapter();
highlightVerse();

// Dropdown listeners
chapterSelect.addEventListener("change", onChapterChange);
verseSelect.addEventListener("change", onVerseChange);
</script>

</body>
</html>
